<!DOCTYPE html>
<html>
<head>
    <title>Jinja2 Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

    <h1>Welcome, {{ username }}!</h1>

    <hr>
    <h2>Topics</h2>
    {% if topics %}
        <ul>
        {% for topic in topics %}
            <li>{{ loop.index }}. {{ topic }}</li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No topics available.</p>
    {% endif %}

    <hr>
    <h2>Login Greeting</h2>
    {% if logged_in %}
        <p>Welcome back, {{ name.capitalize() }}!</p>
    {% else %}
        <p>Hello guest. Please log in.</p>
    {% endif %}

    <hr>
    <h2>Scores</h2>
    <ul>
    {% for score in scores %}
        <li>
            {{ loop.index }}. 
            {% if score > 80 %}
                <b style="color:green">{{ score }}</b> âœ…
            {% else %}
                {{ score }}
            {% endif %}
        </li>
    {% else %}
        <li>No scores to display.</li>
    {% endfor %}
    </ul>

    <hr>
    <h2>Current Date</h2>
    <p>{{ current_date.strftime("%B %d, %Y %I:%M %p") }}</p>

    <hr>
    <h2>Skills Dictionary</h2>
    <ul>
    {% for key, value in tech_skills.items() %}
        <li>{{ key }}: {{ value }}</li>
    {% endfor %}
    </ul>

    <hr>
    {% if role == "admin" %}
        <div class="alert alert-warning">You are in the Admin Panel</div>
    {% endif %}

    <hr>
    <h2>Product List</h2>
    <div class="row">
        {% for product in products %}
        <div class="col-md-4">
            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title">{{ product.title }}</h5>
                    <h6 class="card-subtitle text-muted">{{ product.price }}</h6>
                    <p class="card-text">{{ product.desc }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <hr>
    <h2>Filters</h2>
    <p><strong>Capitalized Name:</strong> {{ name.capitalize() }}</p>
    <p><strong>Short Description:</strong> {{ description[:50] }}</p>
    
    <hr>
    <h2>Safe Filter</h2>
    {% set note = "<em>This is italic HTML text from a variable.</em>" %}
    <p>{{ note|safe }}</p>

</body>
</html>
